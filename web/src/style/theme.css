:root {
    --pfw-gold:#CFB991; --pfw-black:#000; --pfw-dark:#373A36; --pfw-gray:#9D968D; --pfw-bg:#fff;
    --pfw-radius:12px; --pfw-space-1:6px; --pfw-space-2:12px; --pfw-space-3:18px; --pfw-space-4:24px; --pfw-maxw:1100px;
  }
  
  /* layout */
  html,body,#root{height:100%} body{margin:0;background:var(--pfw-bg);color:var(--pfw-dark)}
  .pfw-container{max-width:var(--pfw-maxw);margin:0 auto;padding:0 var(--pfw-space-4)}
  .pfw-row{display:flex;gap:var(--pfw-space-2);align-items:center;flex-wrap:wrap}
  
  /* header */
  .pfw-header{position:sticky;top:0;z-index:10;background:var(--pfw-black);color:#fff}
  .pfw-header-bar{display:flex;align-items:center;gap:var(--pfw-space-3);padding:var(--pfw-space-3) 0}
  .pfw-brand{display:inline-flex;align-items:center;gap:var(--pfw-space-2);font-weight:700;letter-spacing:.2px}
  .pfw-brand-badge{background:var(--pfw-gold);color:#111;padding:4px 10px;border-radius:12px;font-size:12px}
  .pfw-nav{display:flex;gap:var(--pfw-space-2);margin-left:auto}
  .pfw-nav a{color:#fff;text-decoration:none;padding:8px 12px;border-radius:10px;opacity:.92;font-size:14px}
  .pfw-nav a:hover{opacity:1;background:rgba(255,255,255,.08)}
  .pfw-nav .pfw-active{background:rgba(255,255,255,.12)}
  
  /* title bar */
  .pfw-titlebar{background:#f7f5f1;border-bottom:1px solid #e8e4da;padding:var(--pfw-space-4) 0}
  .pfw-titlebar h1{margin:0;font-size:28px;font-weight:750;color:var(--pfw-dark)}
  
  /* content & footer */
  .pfw-content{padding:var(--pfw-space-4) 0}
  .pfw-footer{border-top:1px solid #e8e4da;background:#f9f7f2;color:#2b2b2b;padding:var(--pfw-space-4) 0;margin-top:var(--pfw-space-4);font-size:14px}
  .pfw-footer a{color:#2b2b2b;text-decoration:underline}
  
  /* cards */
  .pfw-card{border:1px solid #e5e2da;border-radius:var(--pfw-radius);background:#fff;overflow:hidden}
  .pfw-card__body{padding:var(--pfw-space-4)}
  .pfw-muted{color:var(--pfw-gray)}
  
  /* inputs + labels */
  .pfw-field{display:flex;flex-direction:column;gap:6px;margin-bottom:14px}
  .pfw-label{font-weight:600}
  .pfw-input{
    width:100%; padding:10px 12px; border:1px solid #ddd4c4; border-radius:10px; background:#fff;
    outline:none;
  }
  .pfw-input:focus{border-color:#c8b79e; box-shadow:0 0 0 3px rgba(207,185,145,.25)}
  .pfw-help{font-size:12px;color:var(--pfw-gray)}
  .pfw-error{font-size:12px;color:#a30000}
  
  /* buttons */
  .pfw-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid transparent;font-weight:600;text-decoration:none;cursor:pointer}
  .pfw-btn:focus-visible{outline:2px solid var(--pfw-gold);outline-offset:2px}
  .pfw-btn--primary{background:var(--pfw-black);color:#fff}
  .pfw-btn--gold{background:var(--pfw-gold);color:#111}
  .pfw-btn--outline{background:#fff;color:var(--pfw-dark);border-color:#ddd4c4}
  
  /* forms */
  .pfw-form-actions{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-top:var(--pfw-space-2)}
  
  /* ========== Responsive polish ========== */

  :root { --pfw-maxw: 100%; } 
  
  /* Respect safe-area insets on iOS */
  .pfw-container {
    padding-left: calc(var(--pfw-space-4) + env(safe-area-inset-left));
    padding-right: calc(var(--pfw-space-4) + env(safe-area-inset-right));
  }
  
  /* Fluid typography */
  body { 
    font-size: clamp(14px, 1.1vw + 10px, 16px);
  }
  .pfw-titlebar h1 {
    font-size: clamp(22px, 1.5vw + 16px, 32px);
  }
  
  /* Touch-friendly inputs and buttons (prevents iOS zoom) */
  .pfw-input { 
    font-size: 16px;           /* iOS zoom fix */
    min-height: 44px;          /* good tap target */
  }
  .pfw-btn {
    min-height: 44px;
    line-height: 1.2;
  }
  
  /* Header nav: allow wrap/scroll on small screens */
  .pfw-nav {
    gap: 8px;
    flex-wrap: wrap;           /* wrap to next line if needed */
    overflow-x: auto;          /* scroll horizontally if super narrow */
    -webkit-overflow-scrolling: touch;
    padding-bottom: 2px;       /* avoid scrollbar clash */
  }
  
  /* Login card: better centering on tall screens, comfy margins on small */
  .pfw-auth {
    min-height: 62vh;          /* soft vertical centering without pushing footer off */
    display: grid;
    place-items: start center; /* top on phones */
  }
  @media (min-width: 768px) {
    .pfw-auth { place-items: center; }
  }
  
  /* Card padding scales a bit */
  .pfw-card__body {
    padding: clamp(16px, 1.8vw, 24px);
  }
  
  /* Footer spacing tighter on very small screens */
  @media (max-width: 480px) {
    .pfw-footer { font-size: 13px; }
    .pfw-header-bar { padding: 14px 0; }
  }

  /* ===== Full-height page scaffold ===== */
.pfw-page {
    min-height: 100dvh;        /* fills the viewport, accounts for mobile UI */
    display: flex;
    flex-direction: column;
  }
  .pfw-main {                   /* the scrolling middle section */
    flex: 1;
  }
  
  /* ===== Containers ===== */
  .pfw-container {              /* existing centered container */
    max-width: var(--pfw-maxw);
    margin: 0 auto;
    padding-left: calc(var(--pfw-space-4) + env(safe-area-inset-left));
    padding-right: calc(var(--pfw-space-4) + env(safe-area-inset-right));
  }
  
  /* NEW: fluid (full-bleed) container that uses the whole width */
  .pfw-container--fluid {
    max-width: 100% !important;  /* override the max width */
  }
  
  /* Giving the content section some side padding on huge screens */
  .pfw-content.pfw-fluid-pad {
    padding-left: max(var(--pfw-space-4), env(safe-area-inset-left));
    padding-right: max(var(--pfw-space-4), env(safe-area-inset-right));
  }
  
  /* ======= FULL WIDTH & FULL HEIGHT OVERRIDES ======= */

/* Make the whole app fill the viewport height */
html, body, #root { height: 100%; }
.pfw-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
.pfw-main { flex: 1; }

/* Kill the old max-width cap so content can use your 1470px screen */
:root { --pfw-maxw: 100vw !important; }

/* All containers go edge-to-edge, with fluid, small side padding */
.pfw-container {
  max-width: 100vw !important;
  width: 100% !important;
  margin: 0 auto;
  padding-left: clamp(12px, 2vw, 24px);
  padding-right: clamp(12px, 2vw, 24px);
}

/* Header / titlebar / footer also span full width */
.pfw-header, .pfw-titlebar, .pfw-footer { width: 100vw; }

/* Optional: on ultra-wide screens, make the main content breathe a bit more */
@media (min-width: 1600px) {
  .pfw-content { padding-top: 32px; padding-bottom: 32px; }
}

/* Tab toggle on login/signup */
.pfw-card__body > div:first-child button {
  min-width: 120px;
  font-size: 15px;
}


.pfw-input {
  padding-right: 60px; 
}

/* ===============================
   Listings Page Styles
   =============================== */

/* Full-width, responsive container */
.listings-wrapper {
  width: 100%;
  padding: clamp(16px, 2vw, 32px);
  box-sizing: border-box;
}

/* Grid layout for listings */
.listing-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 24px;
  width: 100%;
}

/* Each listing card */
.listing-card {
  display: flex;
  flex-direction: column;
  border: 1px solid #e5e2da;
  border-radius: 12px;
  background: #fff;
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  box-sizing: border-box;
}

.listing-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Listing image */
.listing-img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-bottom: 1px solid #eee;
}

/* Card content */
.listing-info {
  padding: 18px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

.listing-title {
  font-size: 18px;
  font-weight: 600;
  color: #111;
  margin: 0 0 6px 0;
}

.listing-price {
  font-size: 16px;
  font-weight: 600;
  color: #000;
  margin: 0 0 8px 0;
}

.listing-seller {
  font-size: 13px;
  color: #777;
  margin-bottom: 16px;
}

/* Action button */
.listing-btn {
  align-self: flex-start;
  padding: 8px 14px;
  border-radius: 10px;
  border: 1px solid #ddd4c4;
  background: #fff;
  color: #373A36;
  font-weight: 600;
  text-decoration: none;
  transition: background 0.2s ease;
}

.listing-btn:hover {
  background: #f7f5f1;
}

/* Empty state */
.listings-empty {
  text-align: center;
  margin-top: 48px;
}

.listings-empty p {
  color: #9D968D;
  margin-bottom: 16px;
}

.listings-empty a {
  background: #CFB991;
  color: #111;
  padding: 10px 16px;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 600;
}

/* Responsive tweaks */
@media (max-width: 480px) {
  .listing-img {
    height: 160px;
  }
  .listing-info {
    padding: 14px;
  }
  .listing-title {
    font-size: 16px;
  }
}

/* ===== Sell Page ===== */
.sell-form { width: 100%; }

.sell-row {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 12px;
}
@media (min-width: 720px) {
  .sell-row { grid-template-columns: repeat(3, 1fr); gap: 16px; }
}

.sell-photos {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.sell-placeholder {
  border: 1px dashed #ddd4c4;
  color: #9D968D;
  border-radius: 10px;
  padding: 12px 14px;
  font-size: 13px;
}

.sell-preview {
  width: 140px;
  height: 100px;
  object-fit: cover;
  border: 1px solid #e5e2da;
  border-radius: 10px;
}

.sell-banner {
  padding: 10px 12px;
  border-radius: 10px;
  margin-bottom: 12px;
  font-size: 14px;
}
.sell-banner.success {
  background: #f4efe4;
  border: 1px solid #e2d6bf;
  color: #2b2b2b;
}
.sell-banner.error {
  background: #ffecec;
  border: 1px solid #e9b2b2;
  color: #7a1e1e;
}

/* ===== Messages Page ===== */
.msg-wrap {
  display: grid;
  grid-template-columns: 320px 1fr;
  gap: 16px;
  align-items: stretch;
}

/* Sidebar */
.msg-sidebar {
  border: 1px solid #e5e2da;
  border-radius: 12px;
  background: #fff;
  overflow: hidden;
  min-height: 420px;
}

.msg-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.msg-item {
  padding: 12px 14px;
  border-bottom: 1px solid #f0ece4;
  cursor: pointer;
}
.msg-item:last-child { border-bottom: none; }

.msg-item:hover {
  background: #fff8ee; /* subtle gold tint */
}
.msg-item.is-active {
  background: #f4efe4;
}

.msg-peer {
  font-weight: 700;
  color: #373A36;
  margin-bottom: 4px;
}
.msg-preview {
  font-size: 13px;
  color: #9D968D;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Thread area */
.msg-thread {
  display: flex;
  flex-direction: column;
  border: 1px solid #e5e2da;
  border-radius: 12px;
  background: #fff;
  min-height: 420px;
  overflow: hidden;
}

.msg-thread-header {
  padding: 12px 16px;
  border-bottom: 1px solid #f0ece4;
  background: #f9f7f2;
}
.msg-peer-strong { font-weight: 800; }

.msg-scroll {
  padding: 16px;
  overflow: auto;
  flex: 1;
  background: #faf9f6;
}

/* Bubbles */
.bubble-row {
  display: flex;
  margin-bottom: 10px;
}
.bubble-row.me { justify-content: flex-end; }
.bubble-row.them { justify-content: flex-start; }

.bubble {
  max-width: min(70%, 640px);
  padding: 10px 12px;
  border-radius: 12px;
  line-height: 1.35;
  font-size: 14px;
  word-wrap: break-word;
}

.bubble-me {
  background: #000;       /* PFW black */
  color: #fff;
  border-top-right-radius: 4px;
}
.bubble-them {
  background: #f4efe4;    /* soft gold-tinted bubble */
  color: #373A36;
  border-top-left-radius: 4px;
  border: 1px solid #e5e2da;
}

/* Composer */
.composer {
  display: flex;
  gap: 10px;
  padding: 12px;
  border-top: 1px solid #f0ece4;
  background: #fff;
}
.composer-input { flex: 1; }

/* Empty states */
.msg-empty, .msg-thread-empty {
  padding: 16px;
  color: #9D968D;
}

/* Responsive: single-pane on mobile */
@media (max-width: 820px) {
  .msg-wrap {
    grid-template-columns: 1fr;
  }
  .msg-sidebar {
    order: 1;
  }
  .msg-thread {
    order: 2;
    margin-top: 8px;
  }
}

/* Login/Signup tabs: stable and visible regardless of DOM order */
.auth-tabs {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}
.auth-tabs .pfw-btn { min-width: 120px; }

/* Inline prompt under the forms (never collapses) */
.auth-inline {
  margin-top: 12px;
  font-size: 13px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}

/* Link-style button (for “Sign up” / “Log in” prompts) */
.pfw-link {
  background: none;
  border: 0;
  padding: 0;
  color: #0645ad;
  text-decoration: underline;
  cursor: pointer;
  font: inherit;
}

/* ===== FORCE-VISIBLE PATCH FOR AUTH TABS/BTNS ===== */
.auth-tabs {
  display: flex !important;
  justify-content: center !important;
  gap: 12px !important;
  margin-bottom: 20px !important;
  flex-wrap: wrap !important;
  visibility: visible !important;
  opacity: 1 !important;
}
.auth-tabs .pfw-btn {
  min-width: 120px !important;
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* In case some earlier rule hides the first child of pfw-card__body */
.pfw-card__body > * {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Ensure buttons aren’t hidden by overflow clipping inside the card body */
.pfw-card__body {
  overflow: visible !important;
}

/* If any ancestor accidentally sets display:none */
.pfw-auth, .pfw-card {
  display: block !important;
}

/* Space for “Show/Hide” buttons so they don’t overlap inputs */
.pfw-input { padding-right: 60px; }
